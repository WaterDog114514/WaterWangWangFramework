# 水汪汪游戏开发框架

这是一套基于 Unity 引擎、采用面向对象（OOP）设计思想的独立研发游戏框架，旨在为游戏开发提供高效、灵活、可扩展的底层支撑。框架通过清晰的分层设计、完善的核心模块与自研工具链，显著降低开发成本，提升项目迭代效率，特别适合中小型团队及个人开发者快速搭建各类游戏项目。

## 核心优势

- **架构清晰**：严格区分框架层（通用核心）与项目层（业务逻辑），降低模块耦合，支持跨项目复用。
- **功能完备**：涵盖输入、资源、UI、场景、事件等游戏开发全流程核心模块，无需重复造轮子。
- **性能优化**：内置对象池、异步加载等机制，减少内存分配与性能开销，保障游戏流畅运行。
- **工具链完善**：配套自研节点编辑器、Excel 转二进制工具，可视化开发与配置管理更高效。
- **易于扩展**：模块化设计支持按需扩展，项目层可快速集成自定义业务逻辑（如塔防游戏的敌人 / 玩家系统）。

## 框架核心设计

### 一、框架层（通用核心模块）

框架层提供跨项目通用的基础功能，不直接参与具体游戏逻辑，主要包含以下核心模块：

#### 输入管理器
支持动态配置玩家输入映射，通过可视化配置文件实时修改按键绑定，兼容键盘、鼠标、手柄等多设备输入，适配不同玩家操作习惯。

#### 对象池管理器
作为 ObjectManager 的子模块，负责游戏对象的缓存与复用（如子弹、敌人、特效），减少频繁创建 / 销毁对象导致的 GC（垃圾回收），提升运行性能。

#### 资源加载管理器
整合多种加载方式：Resources 加载、AB 包加载（同步 / 异步）、Editor 加载及预加载模块，支持资源依赖管理与异步回调，优化资源加载体验。

#### UI 管理器
封装 UGUI 系统，提供面板创建、加载、层级管理及控件事件监听等便捷接口，支持 UI 面板的复用与状态控制，简化界面开发流程。

#### 场景管理
统一处理场景切换逻辑，通过事件中心触发跨模块通知（如保存数据、释放资源），确保场景切换时各系统状态一致性。

#### 事件中心管理
支持模块内局部事件与全局事件（枚举类型）的注册、触发与优先级管理，支持多参数与自定义委托，解耦模块间通信。

#### 计时器模块
提供高精度计时功能，支持间隔回调、结束回调、暂停 / 重置等操作，可用于技能 CD、任务计时等场景。

#### 日志系统
实时输出游戏运行信息，支持后台日志存储与导出，方便开发调试与线上问题排查。

### 二、项目层（业务逻辑模块）

项目层为当前项目专属的业务逻辑集合，仅在特定项目中生效，例如：

- 塔防游戏中的敌人 AI、路径寻路、防御塔逻辑；
- 角色系统中的属性成长、技能释放、装备管理；
- 任务系统、成就系统等项目特有功能。

项目层依赖框架层提供的通用能力，专注于实现游戏核心玩法，与框架层通过事件中心、资源加载等接口交互，确保逻辑清晰。

### 三、内核运行机制

框架的运行依赖五大内核模块，形成完整的生命周期管理：

1. **框架系统管理器**：游戏启动时自动注册框架层所有模块（如输入、对象池），确保基础功能就绪。
2. **阶段管理器**：控制游戏运行周期（初始化、菜单、战斗、结算等阶段），支持阶段切换与状态保存。
3. **更新系统**：统一管理 Update、LateUpdate、FixedUpdate 及多线程更新，确保逻辑执行顺序可控。
4. **游戏系统管理器**：根据当前阶段（如 "战斗阶段"）启用 / 禁用项目层模块（如敌人 AI、玩家控制），实现模块按需激活。

## 自研实用插件

### 1. 万用节点编辑器

可视化节点工作流工具，支持自定义编辑器预设与节点预设，快速搭建各类可视化编辑器（如行为树、技能编辑器）：

- **编辑器预设**：自定义节点库与右键菜单，限定当前编辑器可用节点。
- **节点预设**：定义节点的变量字段、回调方法（如 "并行节点""条件节点"）。
- **使用案例**：通过创建 "动作节点""条件节点" 等预设，可快速搭建行为树编辑器，直观编辑敌人 AI 逻辑。

### 2. Excel 表转二进制工具

高效配置表管理工具，支持自定义读表规则，将 Excel 配置表转换为二进制文件，配合框架的二进制加载器实现快速读取，解决传统 Excel 解析效率低、格式兼容问题，大幅提升游戏配置加载速度。

## 技术栈

- **引擎**：Unity
- **语言**：C#（面向对象设计）
- **核心思想**：模块化、低耦合、高复用
- **工具链**：.NET、Excel 数据处理、自定义 Unity 编辑器扩展

## 如何开始

1. 克隆本仓库至本地
2. 导入 Unity（2020.3 及以上版本）
3. 框架层模块已预设为可直接调用，项目层可根据需求扩展业务逻辑
4. 插件工具位于Editor/Plugins目录，可直接在 Unity 编辑器中使用

## 关于作者

本框架由一名应届毕业生独立设计、开发并维护，旨在探索游戏开发中高效、模块化的解决方案。目前正积极寻求游戏开发相关岗位，期待能在实践中不断完善技术与认知。

欢迎交流与指正，如需合作或探讨技术细节，可通过 GitHub Issues 联系。
